{"version":3,"sources":["scripts.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"everything.js","sourcesContent":["var events_locations;\r\nvar event_id;\r\nvar markers = []; //for modal marker\r\nvar branch_marker = [];\r\nvar infowindow_user;\r\nvar latlngbounds;\r\nvar latlngboundsBranch;\r\nvar branch_list;\r\nvar fx_select_brand;\r\n\r\n(function($) {\r\n\r\n    'use strict';\r\n\r\n    $(document).ready(function() {\r\n\r\n        //var $container = $('.day');\r\n        //$container.masonry({itemSelector: '.card', columnWidth: '.col1', gutter: 10 });\r\n\r\n        /*$('.grid').masonry({\r\n          // options\r\n          itemSelector: '.grid-item',\r\n          columnWidth: 200\r\n        });*/\r\n\r\n        /*\r\n        $('.day').isotope({\r\n            \"itemSelector\": '.card',\r\n            \"masonry\": {\r\n                \"columnWidth\": '.col1',\r\n                \"gutter\": 20,\r\n                \"isFitWidth\": true\r\n            }\r\n        });\r\n        */\r\n\r\n        var delay = (function(){\r\n          var timer = 0;\r\n          return function(callback, ms){\r\n            clearTimeout (timer);\r\n            timer = setTimeout(callback, ms);\r\n          };\r\n        })();\r\n\r\n        (function($,sr){\r\n          // debouncing function from John Hann\r\n          // http://unscriptable.com/index.php/2009/03/20/debouncing-javascript-methods/\r\n          var debounce = function (func, threshold, execAsap) {\r\n              var timeout;\r\n\r\n              return function debounced () {\r\n                  var obj = this, args = arguments;\r\n                  function delayed () {\r\n                      if (!execAsap)\r\n                          func.apply(obj, args);\r\n                      timeout = null;\r\n                  };\r\n\r\n                  if (timeout)\r\n                      clearTimeout(timeout);\r\n                  else if (execAsap)\r\n                      func.apply(obj, args);\r\n\r\n                  timeout = setTimeout(delayed, threshold || 100);\r\n              };\r\n          }\r\n        \t// smartresize\r\n        \tjQuery.fn[sr] = function(fn){  return fn ? this.bind('resize', debounce(fn)) : this.trigger(sr); };\r\n\r\n        })(jQuery,'smartresize');\r\n\r\n        (function(funcName, baseObj) {\r\n          // The public function name defaults to window.docReady\r\n          // but you can pass in your own object and own function name and those will be used\r\n          // if you want to put them in a different namespace\r\n          funcName = funcName || \"docReady\";\r\n          baseObj = baseObj || window;\r\n          var readyList = [];\r\n          var readyFired = false;\r\n          var readyEventHandlersInstalled = false;\r\n\r\n          // call this when the document is ready\r\n          // this function protects itself against being called more than once\r\n          function ready() {\r\n              if (!readyFired) {\r\n                  // this must be set to true before we start calling callbacks\r\n                  readyFired = true;\r\n                  for (var i = 0; i < readyList.length; i++) {\r\n                      // if a callback here happens to add new ready handlers,\r\n                      // the docReady() function will see that it already fired\r\n                      // and will schedule the callback to run right after\r\n                      // this event loop finishes so all handlers will still execute\r\n                      // in order and no new ones will be added to the readyList\r\n                      // while we are processing the list\r\n                      readyList[i].fn.call(window, readyList[i].ctx);\r\n                  }\r\n                  // allow any closures held by these functions to free\r\n                  readyList = [];\r\n              }\r\n          }\r\n\r\n          function readyStateChange() {\r\n              if ( document.readyState === \"complete\" ) {\r\n                  ready();\r\n              }\r\n          }\r\n\r\n          // This is the one public interface\r\n          // docReady(fn, context);\r\n          // the context argument is optional - if present, it will be passed\r\n          // as an argument to the callback\r\n          baseObj[funcName] = function(callback, context) {\r\n              // if ready has already fired, then just schedule the callback\r\n              // to fire asynchronously, but right away\r\n              if (readyFired) {\r\n                  setTimeout(function() {callback(context);}, 1);\r\n                  return;\r\n              } else {\r\n                  // add the function and context to the list\r\n                  readyList.push({fn: callback, ctx: context});\r\n              }\r\n              // if document already ready to go, schedule the ready function to run\r\n              if (document.readyState === \"complete\") {\r\n                  setTimeout(ready, 1);\r\n              } else if (!readyEventHandlersInstalled) {\r\n                  // otherwise if we don't have event handlers installed, install them\r\n                  if (document.addEventListener) {\r\n                      // first choice is DOMContentLoaded event\r\n                      document.addEventListener(\"DOMContentLoaded\", ready, false);\r\n                      // backup is window load event\r\n                      window.addEventListener(\"load\", ready, false);\r\n                  } else {\r\n                      // must be IE\r\n                      document.attachEvent(\"onreadystatechange\", readyStateChange);\r\n                      window.attachEvent(\"onload\", ready);\r\n                  }\r\n                  readyEventHandlersInstalled = true;\r\n              }\r\n          }\r\n        })(\"docReady\", window);\r\n\r\n        /*grid card layout*/\r\n\r\n        /*docReady( function() {\r\n          var container = document.querySelector('.day');\r\n          var iso = window.iso = new Isotope( container, {\r\n            // sortBy: 'symbol',\r\n            // filter: '.metal',\r\n            layoutMode: 'masonry',\r\n            masonry: {\r\n              //columnWidth: 300\r\n              columnWidth: '.col1-test'\r\n            },\r\n            itemSelector: '.col-centered',\r\n            stamp: '.stamp',\r\n            getSortData: {\r\n\r\n              number: '.number parseInt',\r\n              symbol: '.symbol',\r\n              name: '.name',\r\n              category: '[data-category]',\r\n\r\n              weight: function( itemElem ) {\r\n                // remove parenthesis\r\n                return parseFloat( getText( itemElem.querySelector('.weight') ).replace( /[\\(\\)]/g, '') );\r\n              }\r\n\r\n            }\r\n          });\r\n\r\n          //var options = document.querySelector('#options');\r\n\r\n          eventie.bind( options, 'click', function( event ) {\r\n            if ( !matchesSelector( event.target, 'button' ) ) {\r\n              return;\r\n            }\r\n            var sortBy = event.target.getAttribute('data-sort-by');\r\n            iso.arrange({ sortBy: sortBy });\r\n          });\r\n\r\n        });*/\r\n\r\n        /*docReady( function() {\r\n          var container = document.querySelector('#container');\r\n          var iso = window.iso = new Isotope( container, {\r\n            // sortBy: 'symbol',\r\n            // filter: '.metal',\r\n            layoutMode: 'masonry',\r\n            masonry: {\r\n              //columnWidth: 90\r\n              columnWidth: '.element'\r\n            },\r\n            itemSelector: '.element',\r\n          });\r\n\r\n        });*/\r\n\r\n        var resizeTimeout,\r\n        $grid,\r\n        $container = $('.day'),\r\n        margin = 20,\r\n        $grid = $container.isotope({\r\n            itemSelector: '.col-centered',\r\n            //layoutMode: 'fitRows',\r\n            layoutMode: 'masonry',\r\n            //percentPosition: true,\r\n            //transitionDuration: '0.8s',\r\n            //layoutMode: 'fitRows',\r\n            //animationEngine: 'best-available',\r\n            resizable: false,\r\n            masonry: {\r\n              columnWidth: '.col1-element',\r\n            },\r\n        });\r\n\r\n        $grid.isotope('on', 'arrangeComplete', function() {\r\n          //console.log('arrange is complete');\r\n        });\r\n\r\n        // layout Isotope after each image loads\r\n        $('.feed').imagesLoaded().progress( function() {\r\n          $grid.isotope('layout');\r\n        });\r\n\r\n        $(window).on('load', function() {\r\n          //isotope();\r\n        });\r\n\r\n        $(window).smartresize(function(){\r\n          delay(function(){\r\n            $grid.isotope('layout');\r\n          }, 810);\r\n\r\n        });\r\n        /*grid card layout*/\r\n\r\n        /* infinitescroll*/\r\n        var loading_options = {\r\n            /*finishedMsg: \"<div class='end-msg'>Congratulations! You've reached the end of the internet</div>\",\r\n            msgText: \"<div class='center'>Loading news items...</div>\",\r\n            img: \"/assets/img/ajax-loader.gif\"\r\n            */\r\n        };\r\n\r\n        var $per_page = parseInt($('#paginate_page').val(), 10);\r\n        var $total_page = parseInt($('#total_page').val(), 10);\r\n        var $num_page = Math.ceil($total_page / $per_page);\r\n        //console.log('page => ' + $per_page + ' total => ' + $total_page + ' num => ' + $num_page);\r\n\r\n        $('.feed .day').infinitescroll({\r\n            //loading: loading_options,\r\n            loading: {\r\n              finished: undefined,\r\n              finishedMsg: \"\",\r\n              img: \"/pages/img/progress/progress-circle-success.svg\",\r\n              msg: null,\r\n              msgText: \"\",\r\n              selector: null,\r\n              speed: 'fast',\r\n              start: undefined\r\n            },\r\n            navSelector     : \".pagination\",\r\n            nextSelector    : \".pagination a#next\",\r\n            itemSelector    : \".card.col1-element\",\r\n            debug           : false,\r\n            dataType        : 'html',\r\n            maxPage         : $num_page,\r\n            path: function(index) {\r\n                  return \"?page=\" + index;\r\n            },\r\n            errorCallback: function() {\r\n              //console.log('no discounts');\r\n            },\r\n        }, function(newElements, data, url){\r\n            var $newElements = $(newElements).css({opacity: 0});\r\n            return $newElements.filter(function(i, el) {\r\n                $grid.isotope()\r\n                .append( el )\r\n                .isotope( 'appended', el )\r\n                .isotope('layout');\r\n            });\r\n        });\r\n\r\n        // Initializes search overlay plugin.\r\n        // Replace onSearchSubmit() and onKeyEnter() with\r\n        // your logic to perform a search and display results\r\n        $(\".list-view-wrapper\").scrollbar();\r\n\r\n        $(document).on('click.pg.search.data-api', '[data-toggle=\"search\"]', function(e) {\r\n            $('.row_result, .row_result_map').html('');\r\n            $('.result_pro, .result_map').hide();\r\n        });\r\n\r\n        $('[data-pages=\"search\"]').search({\r\n            // Bind elements that are included inside search overlay\r\n            searchField: '#overlay-search',\r\n            closeButton: '.overlay-close',\r\n            suggestions: '#overlay-suggestions',\r\n            brand: '.brand',\r\n             // Callback that will be run when you hit ENTER button on search box\r\n            onSearchSubmit: function(searchString) {\r\n                console.log(\"Search for: \" + searchString);\r\n            },\r\n            // Callback that will be run whenever you enter a key into search box.\r\n            // Perform any live search here.\r\n            onKeyEnter: function(searchString) {\r\n                console.log(\"Live search for: \" + searchString);\r\n                var searchField = $('#overlay-search');\r\n                var searchResults = $('.search-results');\r\n\r\n                var _token, data;\r\n                _token = $('input[name=_token]').val();\r\n                //data = new FormData(this);\r\n                if($('#overlay-search').val() != ''){\r\n\r\n                  $('.search-progress').show();\r\n                  delay(function(){\r\n                    //alert('Time elapsed!');\r\n                    $.ajax({\r\n                        url: '/events/search/' + searchString,\r\n                        headers: {'X-CSRF-TOKEN': _token},\r\n                        type: 'GET',\r\n                        datatype: 'JSON',\r\n                        processData: false,\r\n                        contentType: false,\r\n                        success: function (resp) {\r\n                          //console.log('response => ' + resp);\r\n                          //var results = $.parseJSON(resp);\r\n                          //console.log(results);\r\n\r\n                          $('.search-progress').hide();\r\n                          $('.row_result, .row_result_map').html('');\r\n                          $('.result_map').hide();\r\n\r\n                          var results = $.parseJSON(resp);\r\n                          if($.isEmptyObject(results.event)){\r\n                            //console.log('yyy');\r\n                            $('.row_result').append('<div class=\"row p-l-15\">ไม่พบข้อมูล...</div>');\r\n                            //console.log('xxxx');\r\n\r\n                          } else {\r\n                            //var results = $.parseJSON(resp);\r\n                            var $index  =0;\r\n                            $.each(results.event, function (key, value) {\r\n                                //console.log('val => ' + key);\r\n                                $('.result_pro').show();\r\n                                var $clone = $('.col_hidden_search > div.col_result').clone();\r\n                                $clone.find('span.result-title').html(value.title);\r\n                                //$clone.find('img.result-image').attr('src', '/' + value.image).attr('data-src', '/' + value.image).html(value.title);\r\n                                $clone.find('div.search-img-thumb').css('background-image', 'url(/' + value.image + ')');\r\n                                $clone.find('span.result-brief').html(value.brief);\r\n                                $clone.find('a.result-url').attr('href', '/' + value.url_slug).attr('title', value.title);\r\n                                $clone.find('p.result-brand').html('via ' + value.brand);\r\n                                $clone.css('display','block');\r\n                                //$clone.find('.branch').attr('id', 'branch_' + bid).val(bid);\r\n                                //console.log($clone);\r\n\r\n                                if($index % 2 == 0){\r\n                                  //var $new_row = $('<div class=\"row new_create_row\"></div>');\r\n                                  //$clone.appendTo($new_row);\r\n                                  var $div = $(\"<div class='row new_index_row'></div>\").append($clone);\r\n                                  $div.appendTo('.row_result');\r\n                                } else {\r\n                                  $clone.appendTo('.row_result .new_index_row:last');\r\n                                }\r\n\r\n                                $index++;\r\n\r\n                                //$('.row_search_result .col_result:last').after($clone);\r\n                                //$('#subramos').append('<option>'+ value.nombre_subramo +'</option>');\r\n                            });\r\n                          }\r\n\r\n                          //event maps\r\n                          if(!$.isEmptyObject(results.map)){\r\n                            $('.result_map').show();\r\n                            var $index  =0;\r\n                            $.each(results.map, function (key, value) {\r\n                                var $clone = $('.col_hidden_search > div.col_result_map').clone();\r\n                                $clone.find('span.result-title').html(value.name);\r\n                                $clone.find('a.result-url').attr('href', '/maps/' + value.id).attr('title', value.name); //check map event location, event branch\r\n                                $clone.css('display','block');\r\n\r\n                                if($index % 2 == 0){\r\n                                  var $div = $(\"<div class='row new_index_row_result'></div>\").append($clone);\r\n                                  $div.appendTo('.row_result_map');\r\n                                } else {\r\n                                  $clone.appendTo('.row_result_map .new_index_row_result:last');\r\n                                }\r\n\r\n                                $index++;\r\n                            });\r\n                          }\r\n                        },\r\n                        error: function(jqXHR, textStatus, errorThrown)\r\n                        {\r\n                            // Handle errors here\r\n                            console.log('ERRORS: ' + jqXHR + ' ,textStatus => ' + textStatus + ' ,errorThrown => ' + errorThrown);\r\n                            //var resJson = JSON.stringify(jqXHR);\r\n                            console.log(JSON.stringify(jqXHR.responseJSON));\r\n                            // STOP LOADING SPINNER\r\n                        }\r\n                    });\r\n\r\n                  }, 1000 ); //delay\r\n                } //end check null\r\n\r\n                //    Do AJAX call here to get search results\r\n                //    and update DOM and use the following block\r\n                //    'searchResults.find('.result-name').each(function() {...}'\r\n                //    inside the AJAX callback to update the DOM\r\n\r\n                // Timeout is used for DEMO purpose only to simulate an AJAX call\r\n                /*\r\n                clearTimeout($.data(this, 'timer'));\r\n                searchResults.fadeOut(\"fast\"); // hide previously returned results until server returns new results\r\n                var wait = setTimeout(function() {\r\n                    searchResults.find('.result-name').each(function() {\r\n                        if (searchField.val().length != 0) {\r\n                            $(this).html(searchField.val());\r\n                            searchResults.fadeIn(\"fast\"); // reveal updated results\r\n                        }\r\n                    });\r\n                }, 500);\r\n                $(this).data('timer', wait);\r\n                */\r\n            }\r\n        });\r\n\r\n        //$.ajaxSetup({ headers: { 'csrftoken' : '{{ csrf_token() }}' } });\r\n        $.ajaxSetup({headers: {'X-CSRF-TOKEN': $('meta[name=\"csrf-token\"]').attr('content'), cache: true}});\r\n\r\n        $.fn.exists = function(){return this.length>0;}\r\n\r\n    \t\t//$(document).unbind(\".mine\");\r\n    \t\t$(document).bind(\"ajaxStart.mine\", function(){\r\n    \t\t\t//$('#ajaxProgress').show();\r\n    \t\t\t$('.btn').attr('disabled', 'disabled');\r\n    \t\t});\r\n\r\n    \t\t$(document).bind(\"ajaxStop.mine\", function(){\r\n    \t\t\t//$('#ajaxProgress').hide();\r\n    \t\t\t$('.btn').removeAttr('disabled');\r\n    \t\t});\r\n\r\n        //$(\".widget-3 .metro\").liveTile();\r\n        //$(\".widget-7 .metro\").liveTile();\r\n        /*\r\n            Show a sliding item using MetroJS\r\n            http://www.drewgreenwell.com/projects/metrojs\r\n        */\r\n        $(\".live-tile\").liveTile();\r\n\r\n        /* FILTERS OVERLAY\r\n       -------------------------------------------------------------*/\r\n\r\n       $('[data-toggle=\"filters\"]').click(function() {\r\n           $('#filters').toggleClass('open');\r\n       });\r\n\r\n       $('.quickview-wrapper ul.map-items').scrollbar({\r\n           ignoreOverlay: false\r\n       });\r\n\r\n        //Date Pickers\r\n        //$('#datepicker-component, #datepicker-component2, #datepicker-component3').datepicker({ format: 'mm/dd/yyyy'});\r\n        if($('.events-form').exists()){\r\n           $('#datepicker-component, #datepicker-component2, #datepicker-component3').datepicker({ format: 'yyyy-mm-dd'});\r\n        }\r\n\r\n        //facebook login\r\n\t\t    /*\r\n        if($('.brand-form').exists()){\r\n          console.log('load fb');\r\n\r\n          window.fbAsyncInit = function() {\r\n            FB.init({\r\n          \tappId     : '1532458647022405',\r\n          \tcookie   : true,  // enable cookies to allow the server to access // the session\r\n          \txfbml      : true,  // parse social plugins on this page\r\n          \tstatus     : true,\r\n          \tversion    : 'v2.3' // use version 2.3\r\n            });\r\n          };\r\n\r\n          (function(d, s, id){\r\n          \t var js, fjs = d.getElementsByTagName(s)[0];\r\n          \t if (d.getElementById(id)) {return;}\r\n          \t js = d.createElement(s); js.id = id;\r\n          \t js.src = \"//connect.facebook.net/en_US/sdk.js\";\r\n          \t fjs.parentNode.insertBefore(js, fjs);\r\n           }(document, 'script', 'facebook-jssdk'));\r\n\r\n        } //exists brand register form\r\n\t\t    */\r\n\r\n        if($('.brand-form').exists()){\r\n      \t\t$.getScript('//connect.facebook.net/en_US/sdk.js', function(){\r\n      \t\t\tFB.init({\r\n      \t\t\t  appId: '1532458647022405',\r\n              cookie   : true,  // enable cookies to allow the server to access // the session\r\n      \t\t\t  version: 'v2.5' // or v2.0, v2.1, v2.2, v2.3\r\n      \t\t\t});\r\n      \t\t\t$('#FBLogin,#feedbutton').removeAttr('disabled');\r\n      \t\t\tFB.getLoginStatus(statusChangeCallback);\r\n      \t\t});\r\n        }\r\n\r\n        $('#article').submit(function(e){\r\n\r\n            var _token, data;\r\n            _token = $('input[name=_token]').val();\r\n            data = new FormData(this);\r\n\r\n            $.ajax({\r\n                url: '/articles',\r\n                headers: {'X-CSRF-TOKEN': _token},\r\n                data: data,\r\n                type: 'POST',\r\n                datatype: 'JSON',\r\n                processData: false,\r\n                contentType: false,\r\n                success: function (resp) {\r\n                  console.log('response => ' + resp);\r\n                    /*$.each(resp.subramos, function (key, value) {\r\n                        $('#subramos').append('<option>'+ value.nombre_subramo +'</option>');\r\n                    });*/\r\n                },\r\n                error: function(jqXHR, textStatus, errorThrown)\r\n                {\r\n                    // Handle errors here\r\n                    console.log('ERRORS: ' + jqXHR + ' ,textStatus => ' + textStatus + ' ,errorThrown => ' + errorThrown);\r\n                    //var resJson = JSON.stringify(jqXHR);\r\n                    console.log(JSON.stringify(jqXHR.responseJSON));\r\n                    // STOP LOADING SPINNER\r\n                }\r\n            });\r\n\r\n            e.preventDefault();\r\n        });\r\n\r\n        //brand submit register\r\n        $('#brand-register-form').on('submit',function(e){\r\n          if($(this).valid()){\r\n            e.preventDefault(e);\r\n            var _token, data;\r\n            _token = $('input[name=_token]').val();\r\n            //var form = $('#brand-register-form');\r\n            var form = document.getElementById('brand-register-form');\r\n            data = new FormData(form);\r\n\r\n            console.log(data);\r\n\r\n            $.ajax({\r\n                url: '/brand',\r\n                headers: {'X-CSRF-TOKEN': _token},\r\n                data: data,\r\n                type: 'POST',\r\n                datatype: 'JSON',\r\n                processData: false,\r\n                contentType: false,\r\n                success: function (resp) {\r\n                  //console.log('ajax response => ' + resp);\r\n                  if(resp.status == 'success'){\r\n                    //window.location.href = base_url + '/events/create';\r\n                    window.location.href = base_url + '/brand/lists';\r\n                  }\r\n                },\r\n                error: function(jqXHR, textStatus, errorThrown)\r\n                {\r\n                    $('.error-reponse').html(jqXHR.responseJSON);\r\n                }\r\n            });\r\n\r\n          }\r\n          return false;\r\n        });\r\n\r\n        //brand submit edit\r\n        $('#brand-register-form-edit').on('submit',function(e){\r\n          console.log('update..');\r\n          if($(this).valid()){\r\n            e.preventDefault(e);\r\n            var _token, data;\r\n            _token = $('input[name=_token]').val();\r\n            //var form = $('#brand-register-form');\r\n            var form = document.getElementById('brand-register-form-edit');\r\n            data = new FormData(form);\r\n\r\n            var brand_edit_id = $('.brand_edit_id').val();\r\n            //console.log(data);\r\n\r\n            $.ajax({\r\n                url: base_url + '/brand/' + brand_edit_id,\r\n                headers: {'X-CSRF-TOKEN': _token},\r\n                data: data,\r\n                type: 'POST',\r\n                datatype: 'JSON',\r\n                processData: false,\r\n                contentType: false,\r\n                success: function (resp) {\r\n                  console.log('ajax response => ' + resp);\r\n                  if(resp.status == 'success'){\r\n                    //window.location.href = base_url + '/events/create';\r\n                    window.location.href = base_url + '/brand/lists';\r\n                  }\r\n                },\r\n                error: function(jqXHR, textStatus, errorThrown)\r\n                {\r\n                    $('.error-reponse').html(jqXHR.responseJSON);\r\n                }\r\n            });\r\n          }\r\n          return false;\r\n        });\r\n\r\n        if($('#brand-register-form, #brand-register-form-edit').exists()){\r\n          console.log('brand form, edit form..');\r\n          $('#brand-register-form, #brand-register-form-edit').validate({\r\n               //ignore: \".ignore :hidden\" //is telling it to ignore hidden fields with the class ignore.\r\n               //ignore: \".ignore\", //will tell it to only ignore fields will class .ignore.\r\n               //ignore: \".ignore, :hidden\", //will tell it to ignore fields will class .ignore AND fields that are hidden.\r\n               //ignore:[], // tells the plugin to ignore nothing and validate everything.\r\n               ignore: \".ignore, :hidden:not(.validate)\",\r\n               focusInvalid: false,\r\n               ignoreTitle: true,\r\n               errorClass:'error',\r\n               validClass:'success',\r\n               errorElement:'span',\r\n               highlight: function (element, errorClass, validClass) {\r\n                   $(element).parents(\"div[class='clearfix']\").addClass(errorClass).removeClass(validClass);\r\n               },\r\n               unhighlight: function (element, errorClass, validClass) {\r\n                   $(element).parents(\".error\").removeClass(errorClass).addClass(validClass);\r\n               },\r\n               rules: {\r\n                  name: {\r\n                    required: true\r\n                  },\r\n                  url_slug: {\r\n                    required: true\r\n                  },\r\n                  \"category[]\": {\r\n                    required: true\r\n                  },\r\n                  detail: {\r\n                     required: true\r\n                  },\r\n                  branch_name: {\r\n                    required: true,\r\n                  },\r\n                  username: {\r\n                    required: true,\r\n                  },\r\n                  password: {\r\n                    required: true,\r\n                  },\r\n                  published_at: {\r\n                    required: true\r\n                  }\r\n               },\r\n               messages: {\r\n                  name:{\r\n                  \trequired: \"This field is required.\",\r\n                  },\r\n                  url_slug:{\r\n                  \trequired: \"This field is required.\",\r\n                  },\r\n                  \"category[]\": {\r\n                    required: \"This field is required.\",\r\n                  },\r\n                  detail: {\r\n                    required: \"This field is required.\",\r\n                  },\r\n                  branch_name: {\r\n                    required: \"This field is required.\",\r\n                  },\r\n                  username: {\r\n                    required: \"This field is required.\",\r\n                  },\r\n                  password: {\r\n                    required: \"This field is required.\",\r\n                  },\r\n                  published_at: {\r\n                    required: \"This field is required.\",\r\n                  }\r\n          \t\t },\r\n               submitHandler: function(form) {\r\n                   // optional callback function\r\n                   // only fires on a valid form submission\r\n                   // do something only if/when form is valid\r\n                   // like process the dropzone queue HERE instead\r\n                   // then use .ajax() OR .submit();\r\n               }\r\n          });\r\n        }\r\n\r\n        if($('.events-form').exists()){\r\n          $.validator.addMethod(\"checkTags\", function(value) { //add custom method\r\n              //Tags input plugin converts input into div having id #YOURINPUTID_tagsinput\r\n              //now you can count no of tags\r\n              return ($(\".bootstrap-tagsinput\").find(\".label-custom-tag\").length > 0);\r\n          });\r\n\r\n          $.validator.addMethod(\"checkBrand\", function(value) { //add custom method\r\n              return ($(\"div.cs-select .cs-options\").find(\"li.cs-selected\").attr('data-value') > 0);\r\n          });\r\n        }\r\n\r\n        /* cache by bootstrap js */\r\n        if($('#my-awesome-dropzone-form').exists()){\r\n          $('#my-awesome-dropzone-form').validate({\r\n               //ignore: \".ignore :hidden\" //is telling it to ignore hidden fields with the class ignore.\r\n               //ignore: \".ignore\", //will tell it to only ignore fields will class .ignore.\r\n               //ignore: \".ignore, :hidden\", //will tell it to ignore fields will class .ignore AND fields that are hidden.\r\n               //ignore:[], // tells the plugin to ignore nothing and validate everything.\r\n               ignore: \".ignore, :hidden:not(.validate)\",\r\n               focusInvalid: false,\r\n               ignoreTitle: true,\r\n               errorClass:'error',\r\n               validClass:'success',\r\n               errorElement:'span',\r\n               highlight: function (element, errorClass, validClass) {\r\n                   //console.log(element.name);\r\n                   $(element).parents(\"div[class='clearfix']\").addClass(errorClass).removeClass(validClass);\r\n               },\r\n               unhighlight: function (element, errorClass, validClass) {\r\n                   $(element).parents(\".error\").removeClass(errorClass).addClass(validClass);\r\n               },\r\n               /*\r\n              //When there is an error normally you just add the class to the element.\r\n              // But in the case of select2s you must add it to a UL to make it visible.\r\n              // The select element, which would otherwise get the class, is hidden from\r\n              // view.\r\n              highlight: function (element, errorClass, validClass) {\r\n                var elem = $(element);\r\n                console.log(element.name);\r\n                if (elem.hasClass(\"select2-offscreen\")) {\r\n                    $(\"#s2id_\" + elem.attr(\"id\") + \" a\").addClass(errorClass);\r\n                    console.log('has class');\r\n                } else {\r\n                    elem.addClass(errorClass);\r\n                    console.log('no class');\r\n                }\r\n              },\r\n              //When removing make the same adjustments as when adding\r\n              unhighlight: function (element, errorClass, validClass) {\r\n                var elem = $(element);\r\n                if (elem.hasClass(\"select2-offscreen\")) {\r\n                    $(\"#s2id_\" + elem.attr(\"id\") + \" a\").removeClass(errorClass);\r\n                } else {\r\n                    elem.removeClass(errorClass);\r\n                }\r\n              },*/\r\n               rules: {\r\n                  title: {\r\n                    required: true\r\n                  },\r\n                  url_slug: {\r\n                    required: true\r\n                  },\r\n                  \"category[]\": {\r\n                    required: true\r\n                  },\r\n                  tag_list: {\r\n                    required: true,\r\n                    \"checkTags\": true\r\n                  },\r\n                  brief: {\r\n                     required: true\r\n                  },\r\n                  brand: {\r\n                    required: true,\r\n                    \"checkBrand\": true\r\n                  },\r\n                  branch_name: {\r\n                    required: true\r\n                  },\r\n                  published_at: {\r\n                    required: true\r\n                  }\r\n                  /*\r\n                  fb_message: {\r\n                     required: true\r\n                  }*/\r\n               },\r\n               messages: {\r\n                  title:{\r\n                  \trequired: \"This field is required.\",\r\n                  },\r\n                  url_slug:{\r\n                  \trequired: \"This field is required.\",\r\n                  },\r\n                  \"category[]\": {\r\n                    required: \"This field is required.\",\r\n                  },\r\n                  tag_list: {\r\n                    required: \"This field is required.\",\r\n                    \"checkTags\": \"This field is required.\"\r\n                  },\r\n                  brief: {\r\n                    required: \"This field is required.\",\r\n                  },\r\n                  brand: {\r\n                    required: \"This field is required.\",\r\n                    \"checkBrand\": \"This field is required.\"\r\n                  },\r\n                  branch_name: {\r\n                    required: \"This field is required.\",\r\n                  },\r\n                  published_at: {\r\n                    required: \"This field is required.\",\r\n                  }\r\n                  /*\r\n                  fb_message: {\r\n                    required: \"This field is required.\",\r\n                  }*/\r\n          \t\t },\r\n               submitHandler: function(form) {\r\n                   // optional callback function\r\n                   // only fires on a valid form submission\r\n                   // do something only if/when form is valid\r\n                   // like process the dropzone queue HERE instead\r\n                   // then use .ajax() OR .submit()\r\n               }\r\n          });\r\n\r\n          Dropzone.options.myAwesomeDropzoneForm = { // The camelized version of the ID of the form element\r\n            // The configuration we've talked about above\r\n            paramName: \"gallery\",\r\n            autoDiscover: false,\r\n            autoProcessQueue: false,\r\n            uploadMultiple: true,\r\n            parallelUploads: 100,\r\n            maxFiles: 20,\r\n            maxFilesize: 2, // MB\r\n            acceptedFiles: \"image/*\",\r\n            addRemoveLinks: true,\r\n            previewsContainer: \"#previews\", // Define the container to display the previews\r\n            clickable: \".dropzone-file-previews\",\r\n\r\n            // The setting up of the dropzone\r\n            init: function() {\r\n              var myDropzone = this;\r\n\r\n              // First change the button to actually tell Dropzone to process the queue.\r\n              this.element.querySelector(\"button[type=submit]\").addEventListener(\"click\", function(e) {\r\n\r\n                e.preventDefault();\r\n                e.stopPropagation();\r\n\r\n                 if($('#my-awesome-dropzone-form').valid()){\r\n\r\n                  var description = $('textarea[name=\"description\"]').html($('#summernote').code());\r\n\r\n                  if (myDropzone.getQueuedFiles().length > 0) {\r\n                       myDropzone.processQueue();\r\n                       //$('#my-awesome-dropzone-form')[0].submit();\r\n                  } else {\r\n                       var _token, data;\r\n                       _token = $('input[name=_token]').val();\r\n                       //var form = $('#my-awesome-dropzone-form');\r\n                       var form = document.getElementById('my-awesome-dropzone-form');\r\n                       data = new FormData(form);\r\n\r\n                       $.ajax({\r\n                           url: '/events',\r\n                           headers: {'X-CSRF-TOKEN': _token},\r\n                           data: data,\r\n                           type: 'POST',\r\n                           datatype: 'JSON',\r\n                           processData: false,\r\n                           contentType: false,\r\n                           success: function (resp) {\r\n                             console.log('ajax response => ' + resp);\r\n                             //window.location.href = base_url + '/events';\r\n                             window.location.href = base_url + '/admin';\r\n                           },\r\n                           error: function(jqXHR, textStatus, errorThrown)\r\n                           {\r\n                               $('.error-reponse').html(jqXHR.responseJSON);\r\n                           }\r\n                       });\r\n\r\n                  }\r\n                 } //valid\r\n              });\r\n\r\n              this.on(\"sending\", function(file, xhr, data) {\r\n                  var file = $(\"#image\")[0].files[0];\r\n                  //data.append('file-1', file);\r\n                  data.append(\"image\", file);\r\n                  //data.append(\"filetype\", \"avataruploadtype\");\r\n\r\n                  // Pass token. You can use the same method to pass any other values as well such as a id to associate the image with for example.\r\n                  data.append(\"_token\", $('[name=_token').val()); // Laravel expect the token post value to be named _token by default\r\n              });\r\n\r\n              // Execute when file uploads are complete\r\n              this.on(\"complete\", function() {\r\n                // If all files have been uploaded\r\n                if (this.getQueuedFiles().length == 0 && this.getUploadingFiles().length == 0) {\r\n                  var _this = this;\r\n                  // Remove all files\r\n                  //_this.removeAllFiles();\r\n\r\n                  //console.log('drop response => ' + _this);\r\n                  window.location.href = base_url + '/admin';\r\n                }\r\n              });\r\n\r\n              this.on(\"addedfile\", function(file) {\r\n\r\n                // Create the remove button\r\n                //var removeButton = Dropzone.createElement(\"<a href='javascript:void(0);' class='dz-remove del_thumbnail btn btn-default'><span class='glyphicon glyphicon-trash'></span></a>\");\r\n\r\n                    console.log('add file');\r\n                    // Add the button to the file preview element.\r\n                    //file.previewElement.appendChild(removeButton);\r\n\r\n                if($('.dropzone-previews').find('.dz-preview').length > 0){\r\n                  $('.dropzone-file-previews .dz-message').hide();\r\n                }\r\n              });\r\n\r\n              this.on(\"removedfile\", function(file) {\r\n\r\n                console.log('remove file');\r\n\r\n                /*var event_edit_id = $('.event_edit_id').val();\r\n                if(event_edit_id){ //for edit event\r\n                  $.ajax({\r\n                      url: base_url + '/events/removefile/' + event_edit_id,\r\n                      headers: {'X-CSRF-TOKEN': _token},\r\n                      data: data,\r\n                      type: 'POST',\r\n                      datatype: 'JSON',\r\n                      processData: false,\r\n                      contentType: false,\r\n                      success: function (resp) {\r\n\r\n                        if($('.dropzone-previews').find('.dz-preview').length < 1){\r\n                          $('.dropzone-file-previews .dz-message').show();\r\n                        }\r\n\r\n                        //console.log('ajax response => ' + resp);\r\n                        //window.location.href = base_url + '/admin';\r\n                      },\r\n                      error: function(jqXHR, textStatus, errorThrown)\r\n                      {\r\n                          $('.error-reponse').html(jqXHR.responseJSON);\r\n                      }\r\n                  });\r\n                }*/\r\n\r\n              });\r\n\r\n              // Listen to the sendingmultiple event. In this case, it's the sendingmultiple event instead\r\n              // of the sending event because uploadMultiple is set to true.\r\n              this.on(\"sendingmultiple\", function() {\r\n                // Gets triggered when the form is actually being sent.\r\n                // Hide the success button or the complete form.\r\n              });\r\n              this.on(\"successmultiple\", function(files, response) {\r\n                // Gets triggered when the files have successfully been sent.\r\n                // Redirect user or notify of success.\r\n              });\r\n              this.on(\"errormultiple\", function(files, response) {\r\n                // Gets triggered when there was an error sending the files.\r\n                // Maybe show form again, and notify user of error\r\n              });\r\n            }\r\n          }\r\n\r\n        }\r\n\r\n        //dropzone edit form\r\n        if($('#my-awesome-dropzone-form-edit').exists()){\r\n\r\n          //checkbox blanch\r\n          if($('.branch').is(':checked')){\r\n            $('.branch_all').prop('checked', $('.branch_child').has(':checkbox:not(:checked)').length == 0);\r\n          }\r\n\r\n          /*if($('.brand_id').val() > 0){\r\n            $('.check-branch-all').show(); //show check all branch\r\n          }*/\r\n\r\n          /*$(document).on('change', '.branch', function(e){\r\n              var _parent = $('.branch_all');\r\n              var _child = $('.branch_child');\r\n              var _chk = $(this);\r\n              if (_chk.is(':checked')) {\r\n                 _parent.prop('checked', _child.has(':checkbox:not(:checked)').length == 0);\r\n              } else {\r\n                 _parent.prop('checked', false);\r\n              }\r\n          });*/\r\n\r\n          $('#my-awesome-dropzone-form-edit').validate({\r\n               //ignore: \".ignore :hidden\" //is telling it to ignore hidden fields with the class ignore.\r\n               //ignore: \".ignore\", //will tell it to only ignore fields will class .ignore.\r\n               //ignore: \".ignore, :hidden\", //will tell it to ignore fields will class .ignore AND fields that are hidden.\r\n               //ignore:[], // tells the plugin to ignore nothing and validate everything.\r\n               ignore: \".ignore, :hidden:not(.validate)\",\r\n               focusInvalid: false,\r\n               ignoreTitle: true,\r\n               errorClass:'error',\r\n               validClass:'success',\r\n               errorElement:'span',\r\n               highlight: function (element, errorClass, validClass) {\r\n                   //console.log(element.name);\r\n                   $(element).parents(\"div[class='clearfix']\").addClass(errorClass).removeClass(validClass);\r\n               },\r\n               unhighlight: function (element, errorClass, validClass) {\r\n                   $(element).parents(\".error\").removeClass(errorClass).addClass(validClass);\r\n               },\r\n               /*\r\n              //When there is an error normally you just add the class to the element.\r\n              // But in the case of select2s you must add it to a UL to make it visible.\r\n              // The select element, which would otherwise get the class, is hidden from\r\n              // view.\r\n              highlight: function (element, errorClass, validClass) {\r\n                var elem = $(element);\r\n                console.log(element.name);\r\n                if (elem.hasClass(\"select2-offscreen\")) {\r\n                    $(\"#s2id_\" + elem.attr(\"id\") + \" a\").addClass(errorClass);\r\n                    console.log('has class');\r\n                } else {\r\n                    elem.addClass(errorClass);\r\n                    console.log('no class');\r\n                }\r\n              },\r\n              //When removing make the same adjustments as when adding\r\n              unhighlight: function (element, errorClass, validClass) {\r\n                var elem = $(element);\r\n                if (elem.hasClass(\"select2-offscreen\")) {\r\n                    $(\"#s2id_\" + elem.attr(\"id\") + \" a\").removeClass(errorClass);\r\n                } else {\r\n                    elem.removeClass(errorClass);\r\n                }\r\n              },*/\r\n               rules: {\r\n                  title: {\r\n                    required: true\r\n                  },\r\n                  url_slug: {\r\n                    required: true\r\n                  },\r\n                  \"category[]\": {\r\n                    required: true\r\n                  },\r\n                  tag_list: {\r\n                    required: true,\r\n                    \"checkTags\": true\r\n                  },\r\n                  brief: {\r\n                     required: true\r\n                  },\r\n                  branch_name: {\r\n                    required: true\r\n                  },\r\n                  published_at: {\r\n                    required: true\r\n                  }\r\n                  /*\r\n                  fb_message: {\r\n                     required: true\r\n                  }*/\r\n               },\r\n               messages: {\r\n                  title:{\r\n                  \trequired: \"This field is required.\",\r\n                  },\r\n                  url_slug:{\r\n                  \trequired: \"This field is required.\",\r\n                  },\r\n                  \"category[]\": {\r\n                    required: \"This field is required.\",\r\n                  },\r\n                  tag_list: {\r\n                    required: \"This field is required.\",\r\n                    \"checkTags\": \"This field is required.\",\r\n                  },\r\n                  brief: {\r\n                    required: \"This field is required.\",\r\n                  },\r\n                  branch_name: {\r\n                    required: \"This field is required.\",\r\n                  },\r\n                  published_at: {\r\n                    required: \"This field is required.\",\r\n                  }\r\n                  /*\r\n                  fb_message: {\r\n                    required: \"This field is required.\",\r\n                  }*/\r\n          \t\t },\r\n               submitHandler: function(form) {\r\n                   // optional callback function\r\n                   // only fires on a valid form submission\r\n                   // do something only if/when form is valid\r\n                   // like process the dropzone queue HERE instead\r\n                   // then use .ajax() OR .submit()\r\n               }\r\n          });\r\n\r\n          //console.log('dropzone exists...');\r\n          Dropzone.options.myAwesomeDropzoneFormEdit = { // The camelized version of the ID of the form element\r\n            // The configuration we've talked about above\r\n            paramName: \"gallery\",\r\n            autoDiscover: false,\r\n            autoProcessQueue: false,\r\n            uploadMultiple: true,\r\n            parallelUploads: 100,\r\n            maxFiles: 20,\r\n            maxFilesize: 2, // MB\r\n            acceptedFiles: \"image/*\",\r\n            addRemoveLinks: true,\r\n            previewsContainer: \"#previews\", // Define the container to display the previews\r\n            clickable: \".dropzone-file-previews\",\r\n\r\n            // The setting up of the dropzone\r\n            init: function() {\r\n              var myDropzone = this;\r\n\r\n              //console.log('dropzone...');\r\n\r\n              //Populate any existing thumbnails\r\n              var thumb = $.parseJSON($('#thumb_mock').val());\r\n              $.each(thumb, function(key,value){ //loop through it\r\n                  console.log('value => ' + value.name);\r\n                  var mockFile = { name: value.name, size: value.size }; // here we get the file name and size as response\r\n                  myDropzone.options.addedfile.call(myDropzone, mockFile);\r\n                  myDropzone.options.thumbnail.call(myDropzone, mockFile, value.fileinfo);//uploadsfolder is the folder where you have all those uploaded files\r\n              });\r\n\r\n              // First change the button to actually tell Dropzone to process the queue.\r\n              this.element.querySelector(\"button[type=submit]\").addEventListener(\"click\", function(e) {\r\n\r\n                e.preventDefault();\r\n                e.stopPropagation();\r\n\r\n                 if($('#my-awesome-dropzone-form-edit').valid()){\r\n\r\n                  var description = $('textarea[name=\"description\"]').html($('#summernote').code());\r\n\r\n                  if (myDropzone.getQueuedFiles().length > 0) {\r\n                       myDropzone.processQueue();\r\n                       //$('#my-awesome-dropzone-form')[0].submit();\r\n\r\n                       console.log('drop zone file..');\r\n                  } else {\r\n                      console.log('drop zone null, ajax post file..');\r\n\r\n                       var _token, data;\r\n                       _token = $('input[name=_token]').val();\r\n                       //var form = $('#my-awesome-dropzone-form');\r\n                       var form = document.getElementById('my-awesome-dropzone-form-edit');\r\n                       data = new FormData(form);\r\n\r\n                       var event_edit_id = $('.event_edit_id').val();\r\n\r\n                       $.ajax({\r\n                           url: base_url + '/events/' + event_edit_id,\r\n                           headers: {'X-CSRF-TOKEN': _token},\r\n                           data: data,\r\n                           type: 'POST',\r\n                           datatype: 'JSON',\r\n                           processData: false,\r\n                           contentType: false,\r\n                           success: function (resp) {\r\n                             console.log('ajax response => ' + resp);\r\n                             window.location.href = base_url + '/admin';\r\n                           },\r\n                           error: function(jqXHR, textStatus, errorThrown)\r\n                           {\r\n                               $('.error-reponse').html(jqXHR.responseJSON);\r\n                           }\r\n                       });\r\n\r\n                  }\r\n                 } //valid\r\n              });\r\n\r\n              this.on(\"sending\", function(file, xhr, data) {\r\n                  var file = $(\"#image\")[0].files[0];\r\n                  //data.append('file-1', file);\r\n                  data.append(\"image\", file);\r\n                  //data.append(\"filetype\", \"avataruploadtype\");\r\n\r\n                  // Pass token. You can use the same method to pass any other values as well such as a id to associate the image with for example.\r\n                  data.append(\"_token\", $('[name=_token').val()); // Laravel expect the token post value to be named _token by default\r\n                  //console.log('data => ' + data.toSource());\r\n              });\r\n\r\n              // Execute when file uploads are complete\r\n              this.on(\"complete\", function() {\r\n                // If all files have been uploaded\r\n                if (this.getQueuedFiles().length == 0 && this.getUploadingFiles().length == 0) {\r\n                  var _this = this;\r\n                  // Remove all files\r\n                  //_this.removeAllFiles();\r\n\r\n                  //console.log('drop response => ' + _this);\r\n                  window.location.href = base_url + '/admin';\r\n                }\r\n              });\r\n\r\n              this.on(\"addedfile\", function(file) {\r\n                if($('.dropzone-previews').find('.dz-preview').length > 0){\r\n                  $('.dropzone-file-previews .dz-message').hide();\r\n                }\r\n              });\r\n\r\n              this.on(\"removedfile\", function(file) {\r\n                var _token = $('input[name=_token]').val();\r\n                var event_edit_id = $('.event_edit_id').val();\r\n                var img_name = file.name;\r\n                console.log('=> ' + img_name);\r\n\r\n                $.ajax({\r\n                    url: base_url + '/events/removefile/' + event_edit_id + '/' + img_name,\r\n                    headers: {'X-CSRF-TOKEN': _token},\r\n                    //data: data,\r\n                    type: 'GET',\r\n                    datatype: 'JSON',\r\n                    processData: false,\r\n                    contentType: false,\r\n                    success: function (resp) {\r\n\r\n                      if($('.dropzone-previews').find('.dz-preview').length < 1){\r\n                        $('.dropzone-file-previews .dz-message').show();\r\n                      }\r\n\r\n                      //console.log('ajax response => ' + resp);\r\n                      //window.location.href = base_url + '/admin';\r\n                    },\r\n                    error: function(jqXHR, textStatus, errorThrown)\r\n                    {\r\n                        $('.error-reponse').html(jqXHR.responseJSON);\r\n                    }\r\n                });\r\n\r\n                //if($('.dropzone-previews').find('.dz-preview').length < 1){\r\n                  //$('.dropzone-file-previews .dz-message').show();\r\n                //}\r\n              });\r\n\r\n              // Listen to the sendingmultiple event. In this case, it's the sendingmultiple event instead\r\n              // of the sending event because uploadMultiple is set to true.\r\n              this.on(\"sendingmultiple\", function() {\r\n                // Gets triggered when the form is actually being sent.\r\n                // Hide the success button or the complete form.\r\n              });\r\n              this.on(\"successmultiple\", function(files, response) {\r\n                // Gets triggered when the files have successfully been sent.\r\n                // Redirect user or notify of success.\r\n              });\r\n              this.on(\"errormultiple\", function(files, response) {\r\n                // Gets triggered when there was an error sending the files.\r\n                // Maybe show form again, and notify user of error\r\n              });\r\n            }\r\n          }\r\n        } //end dropzone edit\r\n\r\n        //Single instance of tag inputs - can be initiated with simply using data-role=\"tagsinput\" attribute in any input field\r\n        if($('.custom-tag-input').exists()){\r\n          $('.custom-tag-input').tagsinput({ maxTags: 20, tagClass: function(item) {return 'label label-custom-tag';} });\r\n        }\r\n\r\n        //$(\".custom-tag-input\").on('itemRemoved', function (event) {\r\n           //console.log('remove');\r\n        //});\r\n\r\n        if($('#summernote').exists()){\r\n          var $summernote = $('#summernote').summernote({\r\n              height: 200,\r\n              styleTags: ['pre', 'h1', 'h2'],\r\n              toolbar: [\r\n                // [groupName, [list of button]]\r\n                ['style', ['style', 'bold', 'italic', 'underline', 'clear']],\r\n                //['font', ['strikethrough', 'superscript', 'subscript']],\r\n                ['fontsize', ['fontsize']],\r\n                ['color', ['color']],\r\n                ['para', ['ul', 'ol', 'paragraph']],\r\n                ['height', ['height']],\r\n                ['view', ['fullscreen', 'codeview']],\r\n                //['insert', ['link', 'picture', 'hr']],\r\n                ['picture', ['picture']]\r\n              ],\r\n              onImageUpload: function(files, editor, $editable) {\r\n                //console.log('file => ' + files[0]);\r\n                sendFile(files[0],editor,$editable);\r\n              }\r\n          });\r\n        }\r\n\r\n        //ignore valid popup model\r\n        $('.note-modal-form').each( function() { $(this).validate({}) });\r\n\r\n        //Multiselect - Select2 plug-in\r\n        if($('#category').exists()){\r\n          $(\"#category\").select2({\r\n            //maximumSelectionLength: 2,\r\n            maximumSelectionSize: 2,\r\n            formatSelectionTooBig: function (limit) {\r\n                // Callback\r\n                return 'Too many selected items';\r\n            }\r\n          });\r\n        }\r\n\r\n        $('#category').on('change', function() {\r\n            $(this).valid();\r\n        });\r\n\r\n        if($('.social_group').exists()){\r\n          //Switchery\r\n          var changeCheckbox = document.querySelector('.js-check-change')\r\n            , changeField = document.querySelector('.js-check-change-field');\r\n\r\n          changeCheckbox.onchange = function() {\r\n            changeField.value = changeCheckbox.checked;\r\n            if(changeCheckbox.checked == true){\r\n              $('.social_group').show();\r\n            } else {\r\n              $('.social_group').hide();\r\n            }\r\n            //console.log('change => ' + changeCheckbox.checked);\r\n          };\r\n        }\r\n\r\n        //brand\r\n        if($('.cs-select').exists()){\r\n          var el = $('.cs-select.cs-select-brand').get(0);\r\n          $(el).wrap('<div class=\"cs-wrapper\" />');\r\n          new SelectFx(el, {\r\n              onChange: function(e) {\r\n                   var brand_id = $(e).val();\r\n                   window.fx_select_brand = brand_id;\r\n                   var _branch = $('.branch_child .list');\r\n                   var _category = $('.brand-category');\r\n                   //var data = new FormData();\r\n                   //data.append(\"id\", brand_id);\r\n                   //$('.new_branch_panel').hide(); //hide add panel\r\n                   if ($('.new_branch_panel').css('display') != 'none'){\r\n                     $('.add_new_branch').trigger('click');\r\n                   }\r\n\r\n                   _branch.html('');\r\n                   $('.new_branch_btn').hide(); //hide new branch btn\r\n                   $('.check-branch-all').hide(); //hide check all branch\r\n\r\n                   if(brand_id > 0){\r\n                   $.ajax({\r\n                     url: \"/events/brand/\" + brand_id,\r\n                     //data: data,\r\n                     //cache: false,\r\n                     contentType: false,\r\n                     processData: false,\r\n                     dataType: 'JSON',\r\n                     type: 'GET',\r\n                     success: function(data){\r\n                      if(Object.keys(data.branch).length > 0){\r\n                        _branch.html('');\r\n                        $.each(data.branch, function(id, value) {\r\n                            _branch.append(\r\n                              '<div class=\"checkbox check-warning\">'\r\n                              + '<input type=\"checkbox\" checked=\"checked\" name=\"branch[]\" class=\"branch\" value=\"'+id+'\" id=\"branch_'+id+'\" />'\r\n                              + '<label for=\"branch_'+id+'\">'+value+'</label>'\r\n                              + '</div>'\r\n                            );\r\n                        });\r\n                        _branch.append('<div class=\"clearfix\"></div>');\r\n\r\n                        //checkbox blanch\r\n                        if($('.branch').is(':checked')){\r\n                          $('.branch_all').prop('checked', $('.branch_child').has(':checkbox:not(:checked)').length == 0);\r\n                        }\r\n\r\n                        $('.check-branch-all').show(); //show check all branch\r\n                      } else {\r\n                        $('.branch_child .list').append('<div class=\"checkbox\"></div>');\r\n                      }\r\n\r\n                      //brand category\r\n                      if(Object.keys(data.category).length > 0){\r\n                        _category.html('');\r\n                        $.each(data.category, function(id, value) {\r\n                          console.log('id => ' + id + ' => '+ value);\r\n                            _category.append(\r\n                              '<input type=\"text\" name=\"category[]\" class=\"brand-category\" value=\"'+id+'\" id=\"category_'+id+'\" />'\r\n                            );\r\n                        });\r\n                      }\r\n\r\n                      $('.new_branch_btn').show(); //show new branch btn\r\n\r\n                     },\r\n                     error: function(jqXHR, textStatus, errorThrown) {\r\n                       console.log(textStatus+\" \"+errorThrown);\r\n                     }\r\n                  });\r\n                }\r\n              }\r\n          });\r\n        }\r\n\r\n        //add branch\r\n        if($('.new_branch_panel').exists()){}\r\n\r\n        $(document).on('change', '.branch_all', function(e){\r\n          var _child = $('.branch_child');\r\n          _child.find(':checkbox').prop('checked', this.checked);\r\n        });\r\n\r\n        $(document).on('change', '.branch', function(e){\r\n            var _parent = $('.branch_all');\r\n            var _child = $('.branch_child');\r\n            var _chk = $(this);\r\n            if (_chk.is(':checked')) {\r\n               _parent.prop('checked', _child.has(':checkbox:not(:checked)').length == 0);\r\n            } else {\r\n               _parent.prop('checked', false);\r\n            }\r\n        });\r\n\r\n        //publiched\r\n        $(document).on('change', '.published_check', function(e){\r\n          if(this.checked) {\r\n              $('.published_set_time').hide();\r\n          } else {\r\n              $('.published_set_time').show();\r\n          }\r\n        });\r\n\r\n        if($('#map_canvas, #map_canvas_branch').exists()){\r\n          $(\"<script/>\", {\r\n            \"type\": \"text/javascript\",\r\n            src: \"http://maps.google.com/maps/api/js?v=3.2&sensor=false&zoom=false&language=th&hl=th&callback=initialize&libraries=places\"\r\n          }).appendTo(\"body\");\r\n        }\r\n\r\n        $(document).on('change', '.btn-file :file', function() {\r\n          var input = $(this),\r\n              numFiles = input.get(0).files ? input.get(0).files.length : 1,\r\n              label = input.val().replace(/\\\\/g, '/').replace(/.*\\//, '');\r\n          input.trigger('fileselect', [numFiles, label]);\r\n        });\r\n\r\n        $('.btn-file :file').on('fileselect', function(event, numFiles, label) {\r\n            var input = $(this).parents('.input-group').find(':text'),\r\n                log = numFiles > 1 ? numFiles + ' files selected' : label;\r\n\r\n            if( input.length ) {\r\n                input.val(log);\r\n            } else {\r\n                if( log ) alert(log);\r\n            }\r\n        });\r\n\r\n    });\r\n\r\n    $('.panel-collapse label').on('click', function(e){\r\n        e.stopPropagation();\r\n    });\r\n\r\n})(window.jQuery);\r\n\r\nfunction statusChangeCallback(response){\r\n  if(response.status === 'connected'){\r\n\r\n    if (response.authResponse){\r\n\r\n\t   /*\r\n     FB.api('/me/permissions/publish_actions', 'get', function(response){\r\n       //console.log('status => ' + response.data[0].status);\r\n       if(response.data[0].status != 'granted'){\r\n         console.log('permissnion publish_actions status declined.');\r\n       } else {\r\n         var access_token =   FB.getAuthResponse()['accessToken'];\r\n         //console.log('Access Token = '+ access_token);\r\n\r\n         FB.api('/me', function(response){\r\n          //console.log('Good to see you, ' + response.name + '.');\r\n          $.each(response, function(key, element){\r\n            if(key == 'id'){\r\n              $(\"#fbPostModal .modal-body #fbId\").val(element);\r\n            } else if(key == 'first_name') {\r\n              $(\"#fbPostModal .modal-body #firstName\").val(element);\r\n            } else if(key == 'last_name') {\r\n              $(\"#fbPostModal .modal-body #lastName\").val(element);\r\n            } else if(key == 'gender') {\r\n              $(\"#fbPostModal .modal-body #gender\").val(element);\r\n            } else if(key == 'email') {\r\n              $(\"#fbPostModal .modal-body #email\").val(element);\r\n            }\r\n            //console.log('reponse => ' + key + ', value => ' + element);\r\n          });\r\n\r\n          //$('#fbPostModal').modal({show:true});\r\n          //$(\"#fbPostModal .modal-body #tokenId\").val( access_token );\r\n         });\r\n       }\r\n     });\r\n\t   */\r\n\r\n      FB.api('/me/accounts', function(response){\r\n       //console.log('account => ' + response.toSource());\r\n       var i = 0;\r\n       $.each(response.data, function(k,v){\r\n         ++i;\r\n         if(v.id == '192272534234138'){\r\n         $(\"#fbPostModal .modal-body #tokenId\").val( v.access_token );\r\n         }\r\n         console.log('k => ' + k.toSource() + ' v => '+ v.id + ' => ' + v.name + ' => ' + v.access_token);\r\n       });\r\n       console.log('account => ' + response.data[0].name);\r\n      });\r\n\r\n\r\n     } else {\r\n         console.log('User cancelled login or did not fully authorize.');\r\n     }\r\n\r\n  } else if (response.status === 'not_authorized') {\r\n    console.log('Please log into this app.');\r\n  } else {\r\n     console.log('Please log into Facebook.');\r\n  }\r\n}\r\n\r\nfunction facebookLogin() {\r\n  FB.login(function(response) {\r\n      statusChangeCallback(response);\r\n    },{scope: 'email,public_profile,publish_pages,manage_pages'});\r\n\r\n  return false;\r\n}\r\n\r\n$(document).on('click', \"#FBLogin\", function(){\r\n  facebookLogin();\r\n  return false;\r\n});\r\n\r\nfunction sendFile(file,editor,welEditable)\r\n{\r\n    var data = new FormData();\r\n    data.append(\"file_upload\", file);\r\n     $.ajax({\r\n       url: \"/events/desc_upload\",\r\n       data: data,\r\n       cache: false,\r\n       contentType: false,\r\n       processData: false,\r\n       type: 'POST',\r\n       success: function(data){\r\n        editor.insertImage(welEditable, data);\r\n       },\r\n       error: function(jqXHR, textStatus, errorThrown) {\r\n         console.log(textStatus+\" \"+errorThrown);\r\n       }\r\n    });\r\n}\r\n\r\n//add branch\r\n$(document).on('click', '#add_branch', function(){\r\n  if($('#branch_name').valid()){\r\n    console.log('branch ok');\r\n    console.log('brand id => ' + window.fx_select_brand);\r\n\r\n    var _token = $('input[name=_token]').val();\r\n    var brand_id = window.fx_select_brand;\r\n    if(typeof brand_id === \"undefined\"){ //edit event brand\r\n      brand_id = $('#brand_id').val();\r\n      console.log('brand undefiend >>' + brand_id);\r\n    }\r\n    var brand_branch_row = $('.brand_branch_row');\r\n    var event_branch_row = $('.event_branch_row');\r\n    var branch_name = $('#branch_name').val();\r\n    var branch_detail = $('#branch_detail').val();\r\n    var branch_location = $('#branch_location').val();\r\n    var branch_lat = $('#branch_location_lat').val();\r\n    var branch_lon = $('#branch_location_lon').val();\r\n    var branch_zoom = $('#branch_location_zoom').val();\r\n\r\n    var data = {'brand_id':brand_id, 'branch_name':branch_name, 'branch_detail':branch_detail, 'branch_location':branch_location, 'branch_lat':branch_lat, 'branch_lon':branch_lon, 'branch_zoom':branch_zoom};\r\n    $.ajax({\r\n        url: '/brand/add_branch',\r\n        headers: {'X-CSRF-TOKEN': _token},\r\n        data: JSON.stringify(data), //stringify is important\r\n        //data: data,\r\n        type: 'POST',\r\n        datatype: 'JSON',\r\n        processData: false,\r\n        contentType: false,\r\n        success: function (resp) {\r\n\r\n          var bname = $('#branch_name').val();\r\n          var bid = resp.branch_id;\r\n          //console.log('response => ' + bid + ' => ' + bname);\r\n\r\n          if(resp.status == 'success'){\r\n            if(brand_id != '' && $(event_branch_row).exists()){ //event, brand add new bracnh\r\n\r\n                //console.log('event branch');\r\n                var $clone = $('.event_branch_row > div.branch_row').clone();\r\n                $clone.find('label').attr('for', 'branch_' + bid).html(bname);\r\n                $clone.find('.branch').attr('id', 'branch_' + bid).val(bid);\r\n                //console.log($clone);\r\n\r\n                if($('.list .checkbox').exists()){\r\n                  $('.list .checkbox:last').after($clone);\r\n                } else { //case empty branch\r\n                  $clone.appendTo('.list');\r\n                }\r\n\r\n            } else if($(brand_branch_row).exists()) { //brand add new branch\r\n\r\n              //console.log('brand branch....');\r\n              var $clone = $('.brand_branch_row > div.branch_row').clone();\r\n              $clone.find('.branch_name_list').html(bname);\r\n              $clone.find('.branch_id').val(bid);\r\n              //console.log($clone);\r\n\r\n              $clone.appendTo('#branch_list');\r\n              //$('#branch_list').append($clone);\r\n\r\n            }\r\n\r\n            if($('.check-branch-all').css('display') == 'none'){\r\n              $('.check-branch-all').show(); //show check all branch\r\n            }\r\n\r\n            $('.add_new_branch').trigger('click');\r\n            $('html, body').animate({\r\n                scrollTop: $('.master-checkbox-all').offset().top - 20\r\n            }, 'slow');\r\n          }\r\n            /*$.each(resp.subramos, function (key, value) {\r\n                $('#subramos').append('<option>'+ value.nombre_subramo +'</option>');\r\n            });*/\r\n        },\r\n        error: function(jqXHR, textStatus, errorThrown)\r\n        {\r\n            // Handle errors here\r\n            console.log('ERRORS: ' + jqXHR + ' ,textStatus => ' + textStatus + ' ,errorThrown => ' + errorThrown);\r\n            //var resJson = JSON.stringify(jqXHR);\r\n            console.log(JSON.stringify(jqXHR.responseJSON));\r\n            // STOP LOADING SPINNER\r\n        }\r\n    });\r\n\r\n  } else {\r\n    console.log('branch is valid');\r\n  }\r\n});\r\n\r\n/*\r\n    Look for data-image attribute and apply those\r\n    images as CSS background-image\r\n*/\r\n/*\r\nvar s_length = $('.item-slideshow > div').length;\r\n$('.item-slideshow > div').each(function(index) {\r\n    var img = $(this).data('image');\r\n    //console.log(img);\r\n    var html = $(\"<a class='button secondary url' href='#\"+index+\"'>\").append($(\"<div class='gallery-item-thumb owl-item m-r-10'>\").css({\r\n        'background-image': 'url(' + img + ')',\r\n        'background-size': 'cover',\r\n        'background-position': 'center'\r\n    }));\r\n    //console.log('=> ' + $('.item-slideshow > div').length);\r\n    if(s_length > 1){\r\n      $('.thumb > div').append(html);\r\n    } else {\r\n      $('.item-details .thumb .col-md-12').hide();\r\n    }\r\n    $(this).css({\r\n        'background-image': 'url(' + img + ')',\r\n        'background-repeat': 'no-repeat',\r\n        'background-size': 'contain',\r\n        'background-position': 'center'\r\n    });\r\n});\r\n*/\r\n\r\n/*\r\n    Touch enabled slideshow for gallery item images using owlCarousel\r\n    www.owlcarousel.owlgraphic.com\r\n*/\r\n/*\r\nvar owl = $(\".item-slideshow\").owlCarousel({\r\n    items:1,\r\n    nav: false,\r\n    dots: false,\r\n    URLhashListener:true,\r\n    onInitialized: loaded,\r\n});\r\n\r\n\r\nfunction loaded(e){\r\n  $('.thumb').find(\".owl-item\").eq(0).addClass('synced');\r\n}\r\n\r\nowl.on('changed.owl.carousel', function(e) {\r\n  var current = e.item.index;\r\n  var thumbnail = $('.thumb');\r\n  thumbnail.find('.owl-item').removeClass('synced');\r\n  thumbnail.find(\".owl-item\").eq(current).addClass('synced');\r\n});\r\n*/\r\n\r\n//google map application\r\nvar map;\r\nvar mapObj;\r\nvar place = '';\r\nvar address = '';\r\nvar point = '';\r\n\r\n\r\nfunction handleLocationError(browserHasGeolocation, infoWindow, pos) {\r\n  infoWindow.setPosition(pos);\r\n  infoWindow.setContent(browserHasGeolocation ?\r\n                        'Error: The Geolocation service failed.' :\r\n                        'Error: Your browser doesn\\'t support geolocation.');\r\n}\r\n\r\nfunction initialize() {\r\n\r\n    //console.log('initialize..');\r\n    // Create an array of styles.\r\n    var styles = [\r\n      {\r\n        stylers: [\r\n          { hue: \"#fff\" },\r\n          { saturation: -100 }\r\n        ]\r\n      },{\r\n        featureType: \"road\",\r\n        elementType: \"geometry\",\r\n        stylers: [\r\n          { lightness: 50 },\r\n          { visibility: \"simplified\" }\r\n        ]\r\n      },{\r\n        featureType: \"road\",\r\n        elementType: \"labels\",\r\n        stylers: [\r\n          { visibility: \"off\" }\r\n        ]\r\n      }\r\n    ];\r\n\r\n    mapObj = new Object(google.maps);\r\n    var default_latlng  = new mapObj.LatLng(13.7563309, 100.50176510000006);\r\n    var default_type = mapObj.MapTypeId.ROADMAP;\r\n    var options = {\r\n        zoom: 14,\r\n        scrollwheel: false,\r\n        center: default_latlng,\r\n        mapTypeId:default_type,\r\n        disableDefaultUI: true\r\n    };\r\n\r\n    //Map default\r\n    //Create LatLngBounds object.\r\n    if($('#map_canvas').exists()){\r\n\r\n      console.log('map_canvas');\r\n\r\n      //var latlngbounds = new mapObj.LatLngBounds();\r\n      window.latlngbounds = new mapObj.LatLngBounds();\r\n      var map_canvas = $(\"#map_canvas\")[0];\r\n\r\n      map = new mapObj.Map(map_canvas, options);\r\n      map.setOptions({styles: styles});\r\n      mapObj.event.addListener(map, 'zoom_changed', function() {\r\n          $(\"#location_zoom\").val(map.getZoom());\r\n      });\r\n\r\n      var infowindow = new mapObj.InfoWindow();\r\n      var marker = new mapObj.Marker({\r\n        map: map,\r\n        anchorPoint: new mapObj.Point(0, -29)\r\n      });\r\n    }\r\n\r\n    //map branch location\r\n    if($('#map_canvas_branch').exists() && document.getElementById(\"event_id\") == null){\r\n      var mapBranch;\r\n      var mapObjBranch;\r\n      var placeBranch = '';\r\n      var addressBranch = '';\r\n\r\n      //console.log('map branch....');\r\n      mapObjBranch = new Object(google.maps);\r\n      //var latlngboundsBranch = new mapObjBranch.LatLngBounds();\r\n      var map_canvas_branch = $(\"#map_canvas_branch\")[0];\r\n      mapBranch = new mapObjBranch.Map(map_canvas_branch, options);\r\n      mapObjBranch.event.addListener(mapBranch, 'zoom_changed', function() {\r\n          $(\"#branch_location_zoom\").val(mapBranch.getZoom());\r\n      });\r\n\r\n      var infowindowBranch = new mapObjBranch.InfoWindow();\r\n      var markerBranch = new mapObjBranch.Marker({\r\n        map: mapBranch,\r\n        anchorPoint: new mapObj.Point(0, -29)\r\n      });\r\n    }\r\n\r\n    if($('.map-full').exists()){ //main map full\r\n      var styles = [];\r\n      map.setOptions({styles: styles});\r\n      var $url = '/maps/locations';\r\n      if($('#location_id').val() > 0){\r\n        $url = '/maps/locations/' + $('#location_id').val();\r\n      }\r\n\r\n      console.log('map full...');\r\n\r\n      //default LatLngBounds\r\n      window.latlngbounds = new mapObj.LatLngBounds();\r\n\r\n      $.ajax({\r\n          url: $url,\r\n          type: 'GET',\r\n          datatype: 'JSON',\r\n          processData: false,\r\n          contentType: false,\r\n          success: function (resp) {\r\n            var locations = $.parseJSON(resp);\r\n            var markers = [];\r\n\r\n            //var location_list = locations.split(\",\");\r\n            //console.log(location_list[0] +'=>'+ location_list[1] +'=>'+ location_list[2]);\r\n            window.events_locations = new Array();\r\n            //var loop = 0;\r\n            //var bounds = new google.maps.LatLngBounds();\r\n            $.each(locations, function(k, v){\r\n                //window.events_locations = [];\r\n                var data = [];\r\n                $.each(v, function(x, y){\r\n                    //window.events_locations.push(y);\r\n                    data.push(y);\r\n                    //data.index = k;\r\n                    //data.value = y;\r\n                });\r\n                window.events_locations[k] = data;\r\n\r\n                //console.log('y => ' + window.events_locations[k]);\r\n\r\n                var location_list = k.split(\",\");\r\n                var markerName = location_list[2];\r\n                var markerLat = location_list[0];\r\n                var markerLng = location_list[1];\r\n                //console.log(location_list[0] +'=>'+ location_list[1] +'=>'+ location_list[2]);\r\n                //console.log('=> ' + k + ' => ' + name + ' => ' + lat + '=> ' + lon);\r\n                //var markerID = i;\r\n\r\n                //var markerName = name;\r\n                //var markerLat = lat;\r\n                //var markerLng = lon;\r\n                var markerLatLng = new mapObj.LatLng(markerLat,markerLng);\r\n                markers[k] = new mapObj.Marker({\r\n                    position:markerLatLng,\r\n                    map: map,\r\n                    title:markerName\r\n                });\r\n\r\n                mapObj.event.addListener(markers[k], 'click', function(){\r\n                    infowindow.setContent('<div class=\"popup_container\"><strong class=\"marker_name text-master\">'+ markerName +'</strong></div><p><a href=\"#\" data-index=\"'+k+'\" class=\"events_locations\">มี '+ data.length +' โปรโมชั่นที่นี่</a></p>');\r\n                    infowindow.open(map,markers[k]);\r\n                    map.panTo(markers[k].getPosition());\r\n                    //map.setZoom(14);\r\n                });\r\n\r\n                //Extend each marker's position in LatLngBounds object.\r\n                //latlngbounds.extend(markers[k].position);\r\n                window.latlngbounds.extend(markers[k].position);\r\n\r\n                //loop++;\r\n            });\r\n\r\n            //Get the boundaries of the Map.\r\n            //var bounds = new mapObj.LatLngBounds();\r\n\r\n            //Center map and adjust Zoom based on the position of all markers.\r\n            //2016-05-16, edit set center, detect user location\r\n            //map.setCenter(latlngbounds.getCenter());\r\n            //map.fitBounds(latlngbounds);\r\n\r\n            $(document).on('click', '.events_locations', function(e){\r\n              var index = $(this).data('index');\r\n              //mapObj.event.trigger(markers[index], 'click');\r\n              //return false;\r\n              //console.log('index => ' + index);\r\n              //console.log('value => ' + window.events_locations[index]);\r\n              $('#filters.maps').removeClass('open');\r\n              $('ul#map-items').html('');\r\n              $.each(window.events_locations[index], function(k,v){\r\n                //console.log(' => ' + v.title + ' => ' + v.slug + ' => ' + v.brand);\r\n                var clone = '<li class=\"map-event-list clearfix text-master\">';\r\n                    clone += '<div class=\"col-xs-12 col-top padding-5\">';\r\n                    clone += '<span class=\"thumbnail-wrapper d32 circular bg-success pull-left\"><img width=\"34\" height=\"34\" class=\"col-top\" src=\"/'+v.image+'\" data-src=\"/'+v.image+'\" data-src-retina=\"/'+v.image+'\" alt=\"\"></span>';\r\n                    clone += '<div class=\"pull-left padding-0 p-l-10 col-xs-10\">';\r\n                    clone += '<div class=\"col-md-12 padding-0 relate-event-header\"><span class=\"text-master col-sm-6 pull-left padding-0\"><a class=\"relate-brand-url\" title=\"'+v.brand+'\" href=\"/brand/'+v.brand_slug+'\">'+v.brand+'</a></span>';\r\n                    clone += '<span class=\"block text-master hint-text fs-12 col-sm-6 pull-right align-right padding-0\"><a class=\"relate-category-url\" title=\"'+v.category+'\" href=\"/category/'+v.category_slug+'\">'+v.category+'</a></span></div>';\r\n                    clone += '<p class=\"relate-event-title\"><a target=\"_blank\" title=\"'+v.title+'\" href=\"/'+v.slug+'\">'+v.title+'</a></p>';\r\n                    clone += '<p class=\"block text-master hint-text fs-12\"><i class=\"fa fa-calendar\" aria-hidden=\"true\"></i> '+v.start_date_thai+' - '+v.end_date_thai+'</p>';\r\n                    clone += '</div></div></li>';\r\n\r\n                    //console.log('clone => ' + clone);\r\n                    $('ul#map-items').append(clone);\r\n              });\r\n              $('#filters .map-location').html($(this).closest('div').find('.marker_name').html());\r\n              $('#filters.maps').addClass('open');\r\n              return false;\r\n            });\r\n\r\n            /*$('.event').on('click', '.place', function(e){\r\n              var index = $(this).data('index');\r\n              mapObj.event.trigger(markers[index], 'click');\r\n              return false;\r\n            });*/\r\n\r\n            map.fitBounds(window.latlngbounds);\r\n\r\n          },\r\n          error: function(jqXHR, textStatus, errorThrown)\r\n          {\r\n              console.log('ERRORS: ' + jqXHR + ' ,textStatus => ' + textStatus + ' ,errorThrown => ' + errorThrown);\r\n              console.log(JSON.stringify(jqXHR.responseJSON));\r\n          }\r\n      });\r\n\r\n      var userLocation = function(val){\r\n        // Try HTML5 geolocation.\r\n        if(navigator.geolocation){\r\n          map.setZoom(16);\r\n          if($.cookie('latlonUser')){\r\n\r\n            var temp = $.cookie(\"latlonUser\").split(',');\r\n            //map.setCenter(new mapObj.LatLng(temp[0], temp[1]));\r\n            var geolocate = new mapObj.LatLng(temp[0], temp[1]);\r\n            window.latlngbounds.extend(geolocate);\r\n            map.fitBounds(window.latlngbounds);\r\n            console.log('get latlonUser pos => ' + ' temp => ' + temp + ', lat => ' + temp[0] + ', => ' + temp[1]);\r\n          } else {\r\n            navigator.geolocation.getCurrentPosition(function(position) {\r\n            var pos = {\r\n              lat: position.coords.latitude,\r\n              lng: position.coords.longitude\r\n            };\r\n            $.cookie('latlonUser', position.coords.latitude +','+position.coords.longitude);\r\n            //infowindow.setPosition(pos);\r\n            //infowindow.setContent('Location found.');\r\n            //map.setCenter(pos);\r\n            var geolocate = new mapObj.LatLng(position.coords.latitude, position.coords.longitude);\r\n            window.latlngbounds.extend(geolocate);\r\n            map.fitBounds(window.latlngbounds);\r\n            console.log('set latlonUser pos => ' + pos.lat + ' => ' + pos.lng);\r\n            }, function() {\r\n              handleLocationError(true, infowindow, map.getCenter());\r\n            });\r\n          }\r\n        } else {\r\n          // Browser doesn't support Geolocation\r\n          handleLocationError(false, infowindow, map.getCenter());\r\n          //map.setCenter(latlngbounds.getCenter());\r\n          //map.fitBounds(latlngbounds);\r\n        }\r\n      }\r\n      userLocation();\r\n\r\n      $(document).on('click', '#map-user-location', function(e){\r\n        console.log('user location...');\r\n\r\n        navigator.geolocation.getCurrentPosition(function(position) {\r\n        var pos = {\r\n          lat: position.coords.latitude,\r\n          lng: position.coords.longitude\r\n        };\r\n\r\n        //console.log('map branch zoom => ' + position.coords.zoom);\r\n        $.cookie('latlonUser', position.coords.latitude +','+position.coords.longitude);\r\n        //infowindow.setPosition(pos);\r\n        //infowindow.setContent('Location found.');\r\n\r\n        if(window.infowindow_user){\r\n          window.infowindow_user.close();\r\n        }\r\n\r\n        var geolocate = new mapObj.LatLng(position.coords.latitude, position.coords.longitude);\r\n        window.infowindow_user = new mapObj.InfoWindow({\r\n            map: map,\r\n            position: geolocate,\r\n            content: 'คุณอยู่ที่นี่'\r\n                //'<h1>Location pinned from HTML5 Geolocation!</h1>' +\r\n                //'<h2>Latitude: ' + position.coords.latitude + '</h2>' +\r\n                //'<h2>Longitude: ' + position.coords.longitude + '</h2>'\r\n        });\r\n\r\n        if(window.latlngbounds != ''){\r\n          //console.log('latlngboundsBranch => ' + window.latlngboundsBranch);\r\n          window.latlngbounds.extend(geolocate);\r\n          mapBranch.fitBounds(window.latlngbounds);\r\n        } else {\r\n          mapBranch.setCenter(geolocate);\r\n        }\r\n\r\n        //map.setCenter(pos);\r\n        console.log('set latlonUser pos => ' + pos.lat + ' => ' + pos.lng);\r\n        }, function() {\r\n          handleLocationError(true, infowindow, map.getCenter());\r\n        });\r\n\r\n      });\r\n\r\n    }\r\n\r\n    //if($('.event_id').exists()){ //event locations\r\n    if($('.event_slug').exists()){ //event locations\r\n      //console.log('evetn id >>');\r\n      $.ajax({\r\n          url: '/events/locations/'+$('.event_slug').val(),\r\n          type: 'GET',\r\n          datatype: 'JSON',\r\n          processData: false,\r\n          contentType: false,\r\n          success: function (resp) {\r\n\r\n            //var locations = $.parseJSON(resp);\r\n            var info_event = $.parseJSON(resp);\r\n            var markers = [];\r\n            //var n = 0;\r\n\r\n            window.events_locations = new Array();\r\n            $.each(info_event.locations, function(k, v){\r\n                var data = [];\r\n                $.each(v, function(x, y){\r\n                    data.push(y);\r\n                });\r\n\r\n                window.events_locations[k] = data;\r\n                var location_list = k.split(\",\");\r\n                var markerName = location_list[2];\r\n                var markerLat = location_list[0];\r\n                var markerLng = location_list[1];\r\n\r\n                //var n = location_list[3];\r\n\r\n                //var markerName = name;\r\n                //var markerLat = lat;\r\n                //var markerLng = lon;\r\n                var markerLatLng=new mapObj.LatLng(markerLat,markerLng);\r\n                markers[k] = new mapObj.Marker({\r\n                    position:markerLatLng,\r\n                    map: map,\r\n                    title:markerName\r\n                });\r\n\r\n                //console.log('marker => '+ k + '=>' + markers[k]);\r\n                mapObj.event.addListener(markers[k], 'click', function(){\r\n                    //infowindow.setContent('<div class=\"popup_container\"><strong class=\"marker_name\">'+ markerName +'</strong></div><p><a href=\"#\" data-index=\"'+k+'\" class=\"events_locations\">มี '+ data.length +' โปรโมชั่นที่นี่</a></p>');\r\n                    infowindow.setContent('<div class=\"popup_container\"><strong class=\"marker_name text-master\">'+ markerName +'</strong></div><p><a href=\"#\" data-index=\"'+k+'\" class=\"events_locations\">ดูโปรโมชั่นอื่นๆ ของที่นี่</a></p>');\r\n                    infowindow.open(map,markers[k]);\r\n                    map.panTo(markers[k].getPosition());\r\n                    //map.setZoom(14);\r\n                });\r\n\r\n                //Extend each marker's position in LatLngBounds object.\r\n                //latlngbounds.extend(markers[k].position);\r\n                window.latlngbounds.extend(markers[k].position);\r\n            });\r\n\r\n            //Center map and adjust Zoom based on the position of all markers.\r\n            //map.setCenter(latlngbounds.getCenter());\r\n            //map.fitBounds(latlngbounds);\r\n            map.setCenter(window.latlngbounds.getCenter());\r\n            map.fitBounds(window.latlngbounds);\r\n\r\n            $(document).on('click', '.events_locations', function(e){\r\n              var index = $(this).data('index');\r\n              $('#filters.maps').removeClass('open');\r\n              $('ul#map-items').html('');\r\n\r\n              //console.log('event location => ' + window.events_locations[index]);\r\n              $.each(window.events_locations[index], function(k,v){\r\n                //console.log(' => ' + v.title + ' => ' + v.slug + ' => ' + v.brand);\r\n                var clone = '<li class=\"map-event-list clearfix text-master\">';\r\n                    clone += '<div class=\"col-xs-12 col-top padding-5\">';\r\n                    clone += '<span class=\"thumbnail-wrapper d32 circular bg-success pull-left\"><img width=\"34\" height=\"34\" class=\"col-top\" src=\"/'+v.image+'\" data-src=\"/'+v.image+'\" data-src-retina=\"/'+v.image+'\" alt=\"\"></span>';\r\n                    clone += '<div class=\"pull-left padding-0 p-l-10 col-xs-10\">';\r\n                    clone += '<div class=\"col-md-12 padding-0 relate-event-header\"><span class=\"text-master col-sm-6 pull-left padding-0\"><a class=\"relate-brand-url\" title=\"'+v.brand+'\" href=\"/brand/'+v.brand_slug+'\">'+v.brand+'</a></span>';\r\n                    clone += '<span class=\"block text-master hint-text fs-12 col-sm-6 pull-right align-right padding-0\"><a class=\"relate-category-url\" title=\"'+v.category+'\" href=\"/category/'+v.category_slug+'\">'+v.category+'</a></span></div>';\r\n                    clone += '<p class=\"relate-event-title\"><a target=\"_blank\" title=\"'+v.title+'\" href=\"/'+v.slug+'\">'+v.title+'</a></p>';\r\n                    clone += '<p class=\"block text-master hint-text fs-12\"><i class=\"fa fa-calendar\" aria-hidden=\"true\"></i> '+v.start_date_thai+' - '+v.end_date_thai+'</p>';\r\n                    clone += '</div></div></li>';\r\n\r\n                    //console.log('clone => ' + clone);\r\n                    $('ul#map-items').append(clone);\r\n              });\r\n\r\n              if(window.events_locations[index] == ''){\r\n                $('ul#map-items').html('<div class=\"col-md-12 text-master m-t-10 hint-text\">ไม่มีโปรโมชั่นอื่นๆที่นี่</div>');\r\n              }\r\n\r\n              $('#filters .map-location').html($(this).closest('div').find('.marker_name').html());\r\n              $('#filters.maps').addClass('open');\r\n              return false;\r\n            });\r\n\r\n            $('.event').on('click', '.place', function(e){\r\n              var index = $(this).data('index');\r\n              //console.log('markers => ' + index);\r\n              mapObj.event.trigger(markers[index], 'click');\r\n              return false;\r\n            });\r\n\r\n            /*\r\n            var locations = $.parseJSON(resp);\r\n            var markers = [];\r\n\r\n            $.each(locations, function(k, v){\r\n                //var markerID = v.id;\r\n                var markerName = v.name;\r\n                var markerLat = v.lat;\r\n                var markerLng = v.lon;\r\n                var markerLatLng=new mapObj.LatLng(markerLat,markerLng);\r\n                markers[k] = new mapObj.Marker({\r\n                    position:markerLatLng,\r\n                    map: map,\r\n                    title:markerName\r\n                });\r\n\r\n                mapObj.event.addListener(markers[k], 'click', function() {\r\n                    infowindow.setContent('<div class=\"popup_container\"><strong>'+ markerName +'</strong></div><p><a href=\"#\" data-index=\"relate xxx\" class=\"events_locations\">ดูโปรโมชั่นอื่นๆ ของที่นี่</a></p>');\r\n                    infowindow.open(map,markers[k]);\r\n                    map.panTo(markers[k].getPosition());\r\n                    //map.setZoom(14);\r\n                });\r\n\r\n                latlngbounds.extend(markers[k].position);\r\n            });\r\n\r\n            //Center map and adjust Zoom based on the position of all markers.\r\n            map.setCenter(latlngbounds.getCenter());\r\n            if(locations.length > 1){\r\n              map.fitBounds(latlngbounds);\r\n            }\r\n\r\n            $('.event').on('click', '.place', function(e){\r\n              var index = $(this).data('index');\r\n              mapObj.event.trigger(markers[index], 'click');\r\n              return false;\r\n            });\r\n            */\r\n          },\r\n          error: function(jqXHR, textStatus, errorThrown)\r\n          {\r\n              console.log('ERRORS: ' + jqXHR + ' ,textStatus => ' + textStatus + ' ,errorThrown => ' + errorThrown);\r\n              console.log(JSON.stringify(jqXHR.responseJSON));\r\n          }\r\n      });\r\n    }\r\n\r\n    //event location\r\n    if($('#event_location').exists()){ //search box\r\n      var input = document.getElementById('event_location');\r\n      var autocomplete = new mapObj.places.Autocomplete(input);\r\n      autocomplete.bindTo('load', map);\r\n\r\n      autocomplete.addListener('place_changed', function() {\r\n        infowindow.close();\r\n        marker.setVisible(false);\r\n        place = autocomplete.getPlace();\r\n        if (!place.geometry) {\r\n          window.alert(\"Autocomplete's returned place contains no geometry\");\r\n          return;\r\n        } else {\r\n          map.setZoom(17);\r\n          map.setCenter(place.geometry.location);\r\n          //console.log('map set center');\r\n        }\r\n\r\n        // If the place has a geometry, then present it on a map.\r\n        if (place.geometry.viewport){\r\n          map.fitBounds(place.geometry.viewport);\r\n          //console.log('map fitBounds' + place.geometry.viewport);\r\n        }\r\n        /*else {\r\n          map.setCenter(place.geometry.location);\r\n          map.setZoom(17);  // Why 17? Because it looks good.\r\n        }*/\r\n\r\n        marker.setPosition(place.geometry.location);\r\n        marker.setVisible(true);\r\n\r\n        $(\"#location_lat\").val(place.geometry.location.lat());\r\n        $(\"#location_lon\").val(place.geometry.location.lng());\r\n\r\n        //infowindow.setContent('<div><strong>' + place.name + '</strong></div><br>' + address);\r\n        infowindow.setContent('<div><strong class=\"text-master\">' + place.name + '</strong></div>');\r\n        infowindow.open(map, marker);\r\n      });\r\n\r\n      //event edit\r\n      if($('.event_location_name').exists() && $('.event_location_name').val() != ''){\r\n        console.log('event location edit....');\r\n        var markerEdit;\r\n\r\n        var markerName = $('.event_location_name').val();\r\n        var markerLat = $('#location_lat').val();\r\n        var markerLng = $('#location_lon').val();\r\n        var markerZoom = parseInt($('#location_zoom').val());\r\n        var markerLatLng = new mapObj.LatLng(markerLat, markerLng);\r\n        markerEdit = new mapObj.Marker({\r\n            position:markerLatLng,\r\n            map: map,\r\n            title:markerName\r\n        });\r\n\r\n        mapObj.event.addListener(markerEdit, 'click', function() {\r\n            infowindow.setContent('<div><strong class=\"text-master\">'+ markerName +'</strong></div>');\r\n            infowindow.open(map,markerEdit);\r\n            map.panTo(markerEdit.getPosition());\r\n            //map.setZoom(markerZoom);\r\n        });\r\n\r\n        //Extend each marker's position in LatLngBounds object.\r\n        //latlngbounds.extend(markerEdit.position);\r\n        window.latlngbounds.extend(markerEdit.position);\r\n\r\n        map.setZoom(markerZoom);\r\n        map.setCenter(window.latlngbounds.getCenter());\r\n        //map.fitBounds(latlngbounds);\r\n      }\r\n\r\n      mapObj.event.addListener(marker, 'click', function() {\r\n        //infowindow.setContent('<div><strong>' + place.name + '</strong></div><br>' + address);\r\n        infowindow.setContent('<div><strong class=\"text-master\">' + place.name + '</strong></div>');\r\n        infowindow.open(map, marker);\r\n      });\r\n    }\r\n\r\n    //branch location\r\n    if($('#branch_location').exists()){\r\n\r\n      console.log('branch location...');\r\n\r\n      var inputBranch = document.getElementById('branch_location');\r\n      var autocompleteBranch = new mapObjBranch.places.Autocomplete(inputBranch);\r\n      autocompleteBranch.bindTo('load', mapBranch);\r\n\r\n      autocompleteBranch.addListener('place_changed', function(){\r\n        infowindowBranch.close();\r\n        markerBranch.setVisible(false);\r\n        placeBranch = autocompleteBranch.getPlace();\r\n        if (!placeBranch.geometry){\r\n          window.alert(\"Autocomplete's returned place contains no geometry\");\r\n          return;\r\n        } else {\r\n          mapBranch.setZoom(17);\r\n          mapBranch.setCenter(placeBranch.geometry.location);\r\n          //console.log('branch set center');\r\n        }\r\n\r\n        // If the place has a geometry, then present it on a map.\r\n        if (placeBranch.geometry.viewport){\r\n          mapBranch.fitBounds(placeBranch.geometry.viewport);\r\n          //console.log('branch fitBounds' + placeBranch.geometry.viewport);\r\n        }\r\n        /*else {\r\n          mapBranch.setCenter(placeBranch.geometry.location);\r\n          mapBranch.setZoom(17);  // Why 17? Because it looks good.\r\n          console.log('branch location');\r\n        }*/\r\n\r\n        markerBranch.setPosition(placeBranch.geometry.location);\r\n        markerBranch.setVisible(true);\r\n\r\n        $(\"#branch_location_lat\").val(placeBranch.geometry.location.lat());\r\n        $(\"#branch_location_lon\").val(placeBranch.geometry.location.lng());\r\n\r\n        //infowindowBranch.setContent('<div><strong>' + placeBranch.name + '</strong></div><br>' + addressBranch);\r\n        infowindowBranch.setContent('<div><strong class=\"text-master\">' + placeBranch.name + '</strong></div>');\r\n        infowindowBranch.open(mapBranch, markerBranch);\r\n      });\r\n\r\n      mapObjBranch.event.addListener(markerBranch, 'click', function(){\r\n        //infowindowBranch.setContent('<div><strong>' + placeBranch.name + '</strong></div><br>' + addressBranch);\r\n        infowindowBranch.setContent('<div><strong class=\"text-master\">' + placeBranch.name + '</strong></div>');\r\n        infowindowBranch.open(mapBranch, markerBranch);\r\n      });\r\n\r\n      $(document).on('click', '.add_new_branch', function(e){\r\n        $('.new_branch_panel').toggle();\r\n        $('i.pg-minus', this).toggleClass('pg-plus');\r\n        if ($('.new_branch_panel').css('display') != 'none'){\r\n          //markerBranch = [];\r\n          //markerBranch.setVisible(false);\r\n          $('#branch_location').val('');\r\n          //markerBranch.setMap(null);\r\n          infowindowBranch.close();\r\n          markerBranch.setVisible(false);\r\n\r\n          mapBranch.setZoom(14);\r\n          mapObjBranch.event.trigger(mapBranch, 'resize');\r\n          //mapBranch.setCenter(placeBranch.geometry.location);\r\n          mapBranch.setCenter(default_latlng);\r\n          //google.maps.event.addDomListener(window, 'resize', function() {\r\n              //map.setCenter(center);\r\n          //});\r\n        }\r\n      });\r\n    }\r\n\r\n    /* Modal Map */\r\n    $(document).on('click', '.feed .btnToggleMap', function(){\r\n        //window.event_id = $(this).data('id');\r\n        window.event_id = $(this).data('slug');\r\n        //console.log('toggle map, ' + window.event_id);\r\n        $('#modal_slideup_map').modal('show');\r\n    });\r\n\r\n    $(document).on('click', '#btn-user-location', function(e){\r\n      console.log('user location...');\r\n\r\n      navigator.geolocation.getCurrentPosition(function(position) {\r\n      var pos = {\r\n        lat: position.coords.latitude,\r\n        lng: position.coords.longitude\r\n      };\r\n\r\n      if(window.infowindow_user){\r\n        window.infowindow_user.close();\r\n      }\r\n\r\n      var geolocate = new mapObj.LatLng(position.coords.latitude, position.coords.longitude);\r\n      window.infowindow_user = new mapObj.InfoWindow({\r\n          map: mapBranch,\r\n          position: geolocate,\r\n          content: 'คุณอยู่ที่นี่'\r\n      });\r\n\r\n      //mapBranch.setZoom(17);\r\n      //mapBranch.setCenter(geolocate);\r\n      if(window.latlngboundsBranch != ''){\r\n        //console.log('latlngboundsBranch => ' + window.latlngboundsBranch);\r\n        window.latlngboundsBranch.extend(geolocate);\r\n        mapBranch.fitBounds(window.latlngboundsBranch);\r\n      } else {\r\n        mapBranch.setCenter(geolocate);\r\n      }\r\n\r\n      }, function() {\r\n        handleLocationError(true, infowindow, map.getCenter());\r\n      });\r\n\r\n    });\r\n\r\n    $('#modal_slideup_map').on('show.bs.modal', function() {\r\n      if(typeof mapBranch ==\"undefined\") return;\r\n      setTimeout( function(){resizingMap();} , 400);\r\n    });\r\n\r\n    function resizingMap()\r\n    {\r\n      //mapObjBranch.event.trigger(mapBranch, 'resize');\r\n      //mapBranch.setZoom(14);\r\n      //mapBranch.setCenter(default_latlng);\r\n\r\n      if(typeof mapBranch ==\"undefined\") return;\r\n\r\n      if(window.branch_marker.length > 0){ // clear marker branch\r\n        //console.log('branch more 0' + window.branch_marker.toSource());\r\n        $.each(window.branch_marker, function(x, y){\r\n            window.markers[y].setMap(null);\r\n        });\r\n      }\r\n\r\n      //default LatLngBounds\r\n      window.latlngboundsBranch = new mapObjBranch.LatLngBounds();\r\n\r\n      //ajax branch\r\n      $.ajax({\r\n          url: '/events/locations/' + window.event_id,\r\n          type: 'GET',\r\n          datatype: 'JSON',\r\n          processData: false,\r\n          contentType: false,\r\n          success: function (resp) {\r\n\r\n            var info_event = $.parseJSON(resp);\r\n            //var markers = [];\r\n            //mapObjBranch.event.trigger(mapBranch, 'resize');\r\n            //window.latlngboundsBranch = new mapObjBranch.LatLngBounds();\r\n\r\n            var brand_name = info_event.brand.name;\r\n            var brand_slug = info_event.brand.url_slug;\r\n            var brand_image = info_event.brand.image;\r\n            var category_slug = info_event.brand.category_slug;\r\n            var caegory_name = info_event.brand.category;\r\n\r\n            if(brand_image == null){\r\n              brand_image = 'assets/img/profiles/e.jpg';\r\n            }\r\n            $('.modal .thumbnail-wrapper img').attr('src', base_url + '/' + brand_image).attr('alt', brand_name);\r\n            $('.modal .brand-event-url').attr('href', base_url + '/brand/' + brand_slug).attr('title', brand_name).html(brand_name);\r\n            $('.modal .category-event-url').attr('href', base_url + '/category/' + category_slug).attr('title', caegory_name).html(caegory_name);\r\n\r\n            //console.log('image => ' + base_url + '/' + info_event.brand.image);\r\n            //.attr('href', '/' + value.url_slug).attr('title', value.title);\r\n\r\n            window.events_locations = new Array();\r\n            var index_location = 0;\r\n            $.each(info_event.locations, function(k, v){\r\n                var data = [];\r\n                $.each(v, function(x, y){\r\n                    data.push(y);\r\n                });\r\n\r\n                //console.log('location => ' + k + ' => ' + v);\r\n                window.events_locations[k] = data;\r\n                var location_list = k.split(\",\");\r\n                var markerName = location_list[2];\r\n                var markerLat = location_list[0];\r\n                var markerLng = location_list[1];\r\n\r\n                if(index_location > 0){\r\n                  $('#modal_slideup_map .brand_branch_list').append(', <span><i aria-hidden=\"true\" class=\"pg-map hint-text-9\"></i></span><a class=\"place\" data-index=\"'+k+'\" title=\"'+markerName+'\" href=\"#'+markerName+'\">'+markerName+'</a>');\r\n                } else {\r\n                  $('#modal_slideup_map .brand_branch_list').html('').append('<span><i aria-hidden=\"true\" class=\"pg-map hint-text-9\"></i></span><a class=\"place\" data-index=\"'+k+'\" title=\"'+markerName+'\" href=\"#'+markerName+'\">'+markerName+'</a>');\r\n                }\r\n                index_location++;\r\n\r\n                var markerLatLng = new mapObjBranch.LatLng(markerLat,markerLng);\r\n                window.markers[k] = new mapObjBranch.Marker({\r\n                    position:markerLatLng,\r\n                    map: mapBranch,\r\n                    title:markerName\r\n                });\r\n\r\n                mapObjBranch.event.addListener(window.markers[k], 'click', function(){\r\n                    infowindowBranch.setContent('<div class=\"popup_container\"><strong class=\"marker_name text-master\">'+ markerName +'</strong></div>');\r\n                    infowindowBranch.open(mapBranch,window.markers[k]);\r\n                    mapBranch.panTo(window.markers[k].getPosition());\r\n                });\r\n\r\n                window.branch_marker.push(k);\r\n\r\n                //Extend each marker's position in LatLngBounds object.\r\n                window.latlngboundsBranch.extend(window.markers[k].position);\r\n            });\r\n\r\n            mapObjBranch.event.trigger(mapBranch, 'resize');\r\n            //Center map and adjust Zoom based on the position of all markers.\r\n            //mapBranch.setCenter(latlngboundsBranch.getCenter());\r\n            mapBranch.fitBounds(window.latlngboundsBranch);\r\n\r\n          },\r\n          error: function(jqXHR, textStatus, errorThrown)\r\n          {\r\n              console.log('ERRORS: ' + jqXHR + ' ,textStatus => ' + textStatus + ' ,errorThrown => ' + errorThrown);\r\n              console.log(JSON.stringify(jqXHR.responseJSON));\r\n          }\r\n      });\r\n\r\n      $('.modal').on('click', '.place', function(e){\r\n        var index = $(this).data('index');\r\n        //console.log('markers => ' + index);\r\n        mapObjBranch.event.trigger(window.markers[index], 'click');\r\n        return false;\r\n      });\r\n\r\n      //console.log('mapObjBranch' + mapObjBranch);\r\n      //mapObjBranch.event.trigger(mapBranch, 'resize');\r\n      //mapBranch.setCenter(default_latlng);\r\n      //console.log('slideup map show modal.');\r\n    }\r\n\r\n    $(document).on('click', '.btn_branch_delete', function(e){\r\n      $(this).closest('.branch_row').remove();\r\n    });\r\n\r\n}\r\n"],"sourceRoot":"/source/"}